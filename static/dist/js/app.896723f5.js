(function(t){function e(e){for(var n,o,i=e[0],u=e[1],c=e[2],p=0,v=[];p<i.length;p++)o=i[p],s[o]&&v.push(s[o][0]),s[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(v.length)v.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,i=1;i<r.length;i++){var u=r[i];0!==s[u]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},s={app:0},a=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("f354"),s=r.n(n);s.a},"0f6b":function(t,e,r){},"3f98":function(t,e,r){},"436c":function(t,e,r){"use strict";var n=r("3f98"),s=r.n(n);s.a},4805:function(t,e,r){"use strict";var n=r("b1b3"),s=r.n(n);s.a},5249:function(t,e,r){"use strict";var n=r("0f6b"),s=r.n(n);s.a},"56d7":function(t,e,r){"use strict";r.r(e);r("3a0f"),r("a3a3"),r("4d0b");var n=r("329b"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("header",{staticClass:"container-fluid clearfix"},[t._m(0),r("div",{staticClass:"routeLink"},[r("router-link",{attrs:{to:"/"}},[t._v("首页")]),r("router-link",{directives:[{name:"show",rawName:"v-show",value:t.user,expression:"user"}],attrs:{to:"/publish"}},[t._v("发布")]),r("router-link",{directives:[{name:"show",rawName:"v-show",value:t.user,expression:"user"}],attrs:{to:"/poefile"}},[t._v("我")]),r("a",{directives:[{name:"show",rawName:"v-show",value:t.user,expression:"user"}],attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("登出")]),r("router-link",{directives:[{name:"show",rawName:"v-show",value:!t.user,expression:"!user"}],attrs:{to:"/login"}},[t._v("登录")]),r("router-link",{directives:[{name:"show",rawName:"v-show",value:!t.user,expression:"!user"}],attrs:{to:"/register"}},[t._v("注册")])],1)]),r("router-view")],1)},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"logo"},[r("img",{attrs:{alt:"bbs logo",src:""}})])}],o=(r("b5aa"),r("701f")),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"hello"},[r("h1",[t._v(t._s(t.msg))]),t._m(0),r("h3",[t._v("Installed CLI Plugins")]),t._m(1),r("h3",[t._v("Essential Links")]),t._m(2),r("h3",[t._v("Ecosystem")]),t._m(3)])},u=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("\n    For a guide and recipes on how to configure / customize this project,"),r("br"),t._v("\n    check out the\n    "),r("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-cli documentation")]),t._v(".\n  ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[t._v("babel")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[t._v("eslint")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),r("li",[r("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),r("li",[r("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),r("li",[r("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),r("li",[r("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),r("li",[r("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),r("li",[r("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}],c={name:"HelloWorld",props:{msg:String}},l=c,p=(r("4805"),r("048f")),v=Object(p["a"])(l,i,u,!1,null,"b9167eee",null);v.options.__file="HelloWorld.vue";v.exports;var m=r("b8e5"),h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",t._l(t.posts,function(e){return r("li",[r("pre",[t._v("      "),r("router-link",{attrs:{to:"/post/"+e.id}},[t._v(t._s(e.title))]),t._v(" by "+t._s(e.name)+" - "+t._s(new Date(e.timestamp))+"\n    ")],1)])}))},d=[],f={data:function(){return{posts:[]}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("/api/posts");case 2:e=t.sent,this.posts=e.data;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},_=f,g=(r("dc2f"),Object(p["a"])(_,h,d,!1,null,"350a0fd0",null));g.options.__file="home.vue";var w=g.exports,b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("form",{staticClass:"form-horizontal"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-sm-2 col-xs-3 col-xs-offset-1 control-label",attrs:{for:"inputUsername"}},[t._v("用户名")]),r("div",{staticClass:"col-sm-3 col-xs-6"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"inputUsername",placeholder:"请输入用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-sm-2 col-xs-3 col-xs-offset-1 control-label",attrs:{for:"inputPassword"}},[t._v("密码")]),r("div",{staticClass:"col-sm-3 col-xs-6"},["checkbox"===t.passwordType?r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"inputPassword",placeholder:"请输入密码",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(e){var r=t.password,n=e.target,s=!!n.checked;if(Array.isArray(r)){var a=null,o=t._i(r,a);n.checked?o<0&&(t.password=r.concat([a])):o>-1&&(t.password=r.slice(0,o).concat(r.slice(o+1)))}else t.password=s}}}):"radio"===t.passwordType?r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"inputPassword",placeholder:"请输入密码",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(e){t.password=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"inputPassword",placeholder:"请输入密码",type:t.passwordType},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),r("div",{staticClass:"col-sm-1 col-xs-1"},[r("span",{on:{click:t.changePasswordView}},[t._v("👀")])])]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-sm-2 col-xs-3 col-xs-offset-1 control-label",attrs:{for:"inputAvatar"}},[t._v("头像")]),r("div",{staticClass:"col-sm-3 col-xs-7"},[r("input",{attrs:{type:"file",required:"",id:"inputAvatar"},on:{change:function(e){t.getFile()}}})])]),r("div",{staticClass:"form-group"},[r("div",{staticClass:"col-sm-7"},[r("button",{staticClass:"btn btn-default center-block",on:{click:function(e){return e.preventDefault(),t.submitForm(e)}}},[t._v("注册")])])])])])},x=[],k={data:function(){return{passwordType:"password",username:"",password:"",avatar:""}},methods:{getFile:function(){this.avatar=event.target.files[0]},changePasswordView:function(){this.passwordType="text"},submitForm:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.username){t.next=4;break}alert("用户名不能为空"),t.next=27;break;case 4:if(""!=this.password){t.next=8;break}alert("密码不能为空"),t.next=27;break;case 8:if(""!=this.avatar){t.next=12;break}alert("头像不能为空"),t.next=27;break;case 12:return e=new FormData,e.append("username",this.username),e.append("password",this.password),e.append("avatar",this.avatar),r={headers:{"Content-Type":"multipart/form-data"}},t.prev=17,t.next=20,this.$http.post("/api/register",e,r);case 20:alert("恭喜您注册成功"),this.$router.push("/login"),t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](17),alert("该用户名已被注册");case 27:case"end":return t.stop()}},t,this,[[17,24]])}));return function(){return t.apply(this,arguments)}}()}},y=k,j=(r("7945"),Object(p["a"])(y,b,x,!1,null,"0b0584c0",null));j.options.__file="register.vue";var C=j.exports,$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._v("\n  用户名："),r("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),r("br"),t._v("\n  密  码："),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),r("br"),t._v("\n  验证码："),r("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],attrs:{type:"text"},domProps:{value:t.captcha},on:{input:function(e){e.target.composing||(t.captcha=e.target.value)}}}),r("br"),r("img",{attrs:{src:"/captcha",alt:""}}),r("button",{on:{click:t.login}},[t._v("登录")]),r("p",{directives:[{name:"show",rawName:"v-show",value:t.hasError,expression:"hasError"}]},[t._v("用户名或密码错误或验证码错误")])])},O=[],P={data:function(){return{username:"",password:"",captcha:"",hasError:!1}},methods:{login:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.post("/login",{username:this.username,password:this.password,captcha:this.captcha});case 3:e=t.sent,this.$root.user=e.data,this.$router.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.hasError=!0;case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}()}},E=P,R=(r("f265"),Object(p["a"])(E,$,O,!1,null,"18f71a62",null));R.options.__file="login.vue";var N=R.exports,T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("hgroup",[r("h4",[t._v(t._s(t.post.title))]),r("h5",[r("router-link",{attrs:{to:/user/+t.post.userId}},[t._v(t._s(t.post.name)+" ")]),t._v(" - "+t._s(t.post.timestamp))],1)]),r("div",[t._v(t._s(t.post.content))]),r("h4",[t._v("Components: ")]),r("ul",t._l(t.comments,function(e){return r("li",[r("pre",[t._v("        "+t._s(e.content)+" - "),r("router-link",{attrs:{to:/user/+e.userId}},[t._v(t._s(e.name)+" ")]),t._v("\n      ")],1)])})),r("div",[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.myComment,expression:"myComment"}],attrs:{cols:"30",rows:"10"},domProps:{value:t.myComment},on:{input:function(e){e.target.composing||(t.myComment=e.target.value)}}}),r("button",{on:{click:t.postComment}},[t._v("发表评论")])])])},I=[],A={data:function(){return{post:{},comments:[],myComment:""}},methods:{postComment:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("/add-comment/",{content:this.myComment.trim(),postId:this.$route.params.postId});case 2:e=t.sent,this.myComment="",r=e.data,this.comments.push(r);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.postId,t.next=3,this.$http.get("/api/post/"+e);case 3:return r=t.sent,this.post=r.data[0],t.next=7,this.$http.get("/api/comments/"+e);case 7:n=t.sent,this.comments=n.data;case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},F=A,S=(r("e952"),Object(p["a"])(F,T,I,!1,null,"0e8287c0",null));S.options.__file="post.vue";var D=S.exports,M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h3",[t._v("发布文章")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{cols:"30",rows:"10"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),r("button",{on:{click:t.publish}},[t._v("发布")])])},L=[],q={methods:{publish:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("/add-post",{title:this.title,content:this.content});case 2:e=t.sent,r=e.data,this.$router.push("/post/"+r.id);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},data:function(){return{title:"",content:""}}},z=q,H=(r("5249"),Object(p["a"])(z,M,L,!1,null,"9856e72a",null));H.options.__file="publish.vue";var J=H.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("p",[t._v(t._s(t.user.name))]),r("h2",[t._v(t._s(t.user.name)+"发布的帖子")]),r("ul",t._l(t.posts,function(e){return r("li",[r("router-link",{attrs:{to:/post/+e.id}},[t._v(t._s(e.title))]),r("a",{attrs:{href:"javascript:;"},on:{click:function(r){t.deletePost(e)}}},[t._v("删除帖子")])],1)})),r("h2",[t._v(t._s(t.user.name)+"最近发表过的评论")]),r("ul",t._l(t.comments,function(e){return r("li",[r("h3",[t._v(t._s(e.postTitle))]),r("span",[t._v(t._s(e.content))]),r("a",{attrs:{href:"javascript:;"},on:{click:function(r){t.deleteComment(e)}}},[t._v("删除评论")])])}))])},V=[],W={data:function(){return{user:{},posts:[],comments:[]}},methods:{deletePost:function(t){this.$http.get("/delete-post/"+t.id),this.$router.push("/user/"+this.user.id)},deleteComment:function(t){this.$http.get("/delete-comment/"+t.id),this.$router.push("/user/"+this.user.id)}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.userId,t.next=3,this.$http.get("/api/user/"+e);case 3:r=t.sent,this.user=r.data.user,this.posts=r.data.userPosts,this.comments=r.data.userComments;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},B=W,G=(r("436c"),Object(p["a"])(B,U,V,!1,null,"2d118c90",null));G.options.__file="user.vue";var K=G.exports;n["a"].use(m["a"]);var Q=[{path:"/",component:w},{path:"/register",component:C},{path:"/login",component:N},{path:"/post",component:D},{path:"/publish",component:J},{path:"/user",component:K}],X=new m["a"]({routes:Q}),Y={name:"app",components:{home:w},router:X,data:function(){return{user:null}},method:{logout:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.user=null,t.next=3,this.$http.get("/logout");case 3:this.$router.push("/");case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},beforeCreate:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("/api/userInfo");case 2:e=t.sent,this.user=e.data,console.log("beforecreated 运行");case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},Z=Y,tt=(r("034f"),Object(p["a"])(Z,s,a,!1,null,null,null));tt.options.__file="App.vue";var et=tt.exports,rt=r("7f43"),nt=r.n(rt);n["a"].prototype.$http=nt.a,n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(et)}}).$mount("#app")},"689e":function(t,e,r){},7428:function(t,e,r){},7945:function(t,e,r){"use strict";var n=r("689e"),s=r.n(n);s.a},af68:function(t,e,r){},b1b3:function(t,e,r){},dc2f:function(t,e,r){"use strict";var n=r("7428"),s=r.n(n);s.a},e952:function(t,e,r){"use strict";var n=r("af68"),s=r.n(n);s.a},f265:function(t,e,r){"use strict";var n=r("f8bc"),s=r.n(n);s.a},f354:function(t,e,r){},f8bc:function(t,e,r){}});
//# sourceMappingURL=app.896723f5.js.map